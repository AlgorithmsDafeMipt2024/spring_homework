# Задача о кузнечике. Задача о черепахе

## Задача о кузнечике:
   Рассмотрим следующую задачу. На числовой прямой сидит кузнечик, который может прыгать вправо на одну или на две единицы. Первоначально кузнечик находится в точке с координатой 0.
Определите количество различных маршрутов кузнечика, приводящих его в точку с координатой n.

**Рекурсивное решение:**
```python
# неэффективное решение
def F(n):
    if n < 2:
        return 1
    else:
        return F(n - 1) + F(n - 2)
```

**Нерекурсивное решение: **
```python
F = [0] * (n + 1)
F[0] = 1
F[1] = 1
for i in range(2, n + 1):
    F[i] = F[i - 2] + F[i — 1]  
```

## Модификации задачи о кузнечике:
 Модифицируем задачу. Пусть кузнечик прыгает на одну, две или три единицы, необходимо также вычислить количество способов попасть в точку n. В рекуррентном соотношении добавится еще одно слагаемое: F(n) = F(n - 1) + F(n - 2) + F(n - 3). И начальные значения для вычисления
 теперь должны состоять из трех чисел: F(0), F(1), F(2). Решение изменится не сильно:

```python
F = [0] * (n + 1)
F[0] = 1
F[1] = F[0]
F[2] = F[1] + F[0]
for i in range(3, n + 1):
	F[i] = F[i - 3] + F[i — 2] + F[i — 1]
```

## Задача про черепашку:
 Эволюционируем от кузнечика к черепахе. Черепашка перемещается по прямоугольному полю n×m и собирает цветочки. На клетке (i,j) растет cij
 цветочков. Изначально черепашка стоит в клетеке (0,0), а ей надо добраться до клетки (n−1,m−1), собрав как можно больше цветочков. Двигаться она может только на одну клетку вниз или на одну клетку вправо за раз.

Решение во многом похоже на задачу про кузнечика:

dp[i][j]
 - состояние динамики, равное максимальному количеству цветочков, которое можно набрать по пути до клетки (i,j)
.
dp[i][j]=max(dp[i−1][j],dp[i][j−1])+cij
 - правило пересчета
Порядок обхода - надо проходить через клетки так, чтобы все состояния, которые нужны для пересчета, уже были валидны. Можно во внешнем цикле перебирать строку, а во внутреннем столбец по возрастанию. Восстановление ответа аналогично задаче про кузнечика. Расход времени и памяти составит O(n*m).

## Количество путей:
 Забудем пока про цветочки. Пусть теперь неокторые клетки поля заблокированы, черепашка не может заходить на них. Мы хотим найти, сколькими способами черепашка может добраться до клетки (n−1,m−1).

Пусть dp[i][j]
 - количество способов добраться до клетки (i,j)
 из начальной. Формула пересчета тогда будет следующей: dp[i][j]=dp[i−1[j]+dp[i][j−1].
 То есть в клетку (i,j) можно пройти либо из клетки над ней, либо слева от нее.

Заметим, что такое правило пересчета разрешает нам ходить по заблокированным клеткам в общем случае. Это можно исправить так: при обходе поля и подсчете состояний можно не считать способы для заблокированных клеток, значение динамики в них всегда будет 0, что равносильно запрету посещать клетку.

Какие стартовые значения нам нужны? Пока что мы знаем только, что в исходную клетку можно пройти единственным способом - остаться в ней, поэтому dp[0][0]=1.